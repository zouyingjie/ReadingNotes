
### 《设计模式之禅》阅读笔记

#### 一、六大设计原则

#### 1.SRP:单一职责原则

单一职责不是一个非常明确的原则,因为有时候无法明确的界定类的职责,因此在实际开发中往往会违背该原则,就具体开发而言,我们应该尽量让接口做到单一职责,类尽量只有一个引起变化的原因,在方法层面做到一个方法只完成一个任务,这也符合整洁代码的编写规范。尤其是方法这一层面上,我们可以较为明确的划分不同的行为或功能,负责单一功能的简短的方法代码、清晰的命名和责任划分可以极大的提高代码可理解性和可维护性。

#### 2.LSP:里氏替换原则
**只要父类能出现的地方子类就可以出现**

* 如果子类不能完整的实现父类的方法,或者父类的某些方法在子类中发生畸变,则建议断开继承,改用依赖、组合、聚集等关系
* 尽量避免子类的‘个性’,否则很难调和子类和父类的关系,像个别有‘个性’的子类可以考虑采用装饰类的形式实现

#### 3.DIP:依赖导致原则
**模块之间的依赖通过抽象发生,具体到Java就是类之间不发生直接的依赖关系,而是通过接口或者抽象类产生**

*依赖注入的三种方式*

* 构造函数注入
* Setter方法注入
* 接口声明注入

*最佳实践*

* 每个类尽量有接口或者抽象类,或者两者兼备
* 变量的表面类型尽量是接口或者抽象类
* 不要从具体类派生新类
* 尽量不要覆写基类的方法
* 结合里氏替换原则可以得到一个通俗的规则:接口负责定义public属性和方法,并且声明与其他对象的依赖关系,抽象类负责公共构造部分的实现,实现类准确的实现业务逻辑,同时在适当的时候对父类进行细化。

#### 4.ISP:接口隔离原则

**客户端不应该依赖它不需要的接口,类的依赖关系应该建立在最小的接口上**

接口隔离的本质在于细化接口的功能,在协调单一职责的基础上对接口功能进行细化,避免接口臃肿,使类的依赖程度达到最符合实际情况的要求,避免对于的依赖。

* 建立单一接口,不要使接口过于臃肿,也就是说接口中的方法要尽可能的少
* 高内聚，接口中的尽量减少公布public方法
* 一个接口只服务于一个子模块或者业务逻辑

#### 5.LKP: 迪米特法则
**也叫最少知识原则,一个类应该对其他对象有最少的了解。**

迪米特法则要求类中只依赖与其最为相关的对象,不要依赖多余的对象。只与其‘最直接的朋友’通信。其本质就是类间解耦

* 类要尽可能的减少 public 的属性和方法,public 方法和属性越多,其涉及面就越大，变更所引起的影响就越多
* 如果一个方法放在本类中,即不增加类间关系,也对本类不产生负面影响,那就放在本类中

#### 6.OCP:开闭原则
**一个软件实体比如类、模块和函数应该对扩展开发,对修改关闭**

开闭原则要求我们当软件发生变化的时候通过扩展已有的类等实体来适应新的变化,而不是通过修改已有代码。本质上来说就是强调软件要更好的适应变化。以上的几个设计原则以及设计模式等都是为了满足开闭原则都是为了满足这一需要。当然并不是绝对的一成不变,还是要多从实践中总结,根据实际情况灵活运用。
